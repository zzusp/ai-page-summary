# 智能页面总结器 - Chrome 扩展

一个功能强大的Chrome扩展程序，使用AI技术智能总结网页内容。

## 🌟 主要功能

### 核心功能
- **智能内容抓取**：自动识别和提取页面主要内容，过滤广告、导航等无关信息
- **大模型API集成**：支持多种AI服务（OpenAI GPT、Anthropic Claude、自定义API）
- **优化总结提示词**：专门设计的高质量提示词，确保AI以客观总结为主
- **实时总结处理**：快速处理页面内容，生成高质量总结
- **置信度评估**：对总结结果进行质量评估和置信度分析

### 用户体验
- **简洁美观的界面**：现代化的设计风格，直观的用户界面
- **多种交互方式**：点击按钮、右键菜单、快捷键操作
- **历史记录管理**：保存和查看所有总结历史，支持导出
- **结果导出功能**：支持复制到剪贴板、导出为文本文件
- **响应式设计**：适配不同屏幕尺寸的设备

### 配置管理
- **API配置管理**：安全的API密钥存储和配置
- **多种API支持**：OpenAI、Anthropic、自定义API端点
- **高级参数调节**：温度、Token数、总结长度等可自定义
- **API测试功能**：在保存前测试API配置是否正确

## 🚀 快速开始

### 安装步骤

1. **下载扩展文件**
   ```bash
   # 下载并解压扩展文件到本地目录
   ```

2. **打开Chrome扩展管理页面**
   - 访问 `chrome://extensions/`
   - 开启"开发者模式"

3. **加载扩展**
   - 点击"加载已解压的扩展程序"
   - 选择扩展文件所在目录

4. **配置API**
   - 点击扩展图标
   - 在弹出页面中点击设置按钮
   - 输入你的API密钥和配置信息
   - 测试API连接并保存设置

### 使用方法

#### 快速总结
1. 打开任意网页
2. 点击浏览器工具栏中的扩展图标
3. 点击"开始总结"按钮
4. 等待AI分析并查看结果

#### 快捷键操作
- `Ctrl+Shift+S` (Windows/Linux) 或 `Cmd+Shift+S` (Mac)：快速总结当前页面
- `Ctrl+Shift+O` (Windows/Linux) 或 `Cmd+Shift+O` (Mac)：打开设置页面

#### 右键菜单
- 在任意网页上右键点击
- 选择"智能总结此页面"

## ⚙️ 配置说明

### API提供商设置

#### OpenAI (GPT)
- **API地址**：留空使用默认 `https://api.openai.com/v1/chat/completions`
- **模型选择**：
  - GPT-3.5 Turbo (推荐，性能与价格平衡)
  - GPT-4 (更高质量，但较慢和昂贵)
  - GPT-4 Turbo Preview (最新版本)
- **API密钥格式**：以 `sk-` 开头

#### Anthropic (Claude)
- **API地址**：留空使用默认 `https://api.anthropic.com/v1/messages`
- **模型选择**：
  - Claude 3 Haiku (推荐，速度快)
  - Claude 3 Sonnet (平衡性能)
  - Claude 3 Opus (最高质量)
- **API密钥**：标准格式密钥

#### 自定义API
- **API地址**：输入你的自定义API端点
- **认证方式**：根据你的API服务调整
- **支持格式**：OpenAI兼容格式或自定义格式

### 高级设置

#### 温度参数 (Temperature)
- **范围**：0.0 - 1.0
- **推荐值**：0.3
- **说明**：控制输出的随机性，较低值产生更一致的总结

#### 最大Token数
- **范围**：100 - 4000
- **推荐值**：1500
- **说明**：控制总结的最大长度

#### 总结长度偏好
- **简洁**：100-200字，适用于快速浏览
- **中等**：300-500字，推荐设置
- **详细**：800-1200字，适用于深度阅读

## 🔧 技术架构

### 文件结构
```
chrome-extension/
├── manifest.json          # 扩展配置文件
├── popup.html             # 主弹出页面
├── popup.js              # 主界面逻辑
├── options.html           # 设置页面
├── options.js            # 设置页面逻辑
├── content.js            # 内容脚本
├── background.js         # 后台服务脚本
├── styles/
│   ├── popup.css         # 主界面样式
│   ├── options.css       # 设置页面样式
│   └── content.css       # 内容脚本样式
├── js/
│   ├── utils.js          # 工具函数库
│   ├── popup.js          # 主界面逻辑
│   ├── options.js        # 设置页面逻辑
│   ├── content.js        # 内容脚本逻辑
│   └── background.js     # 后台服务逻辑
├── icons/                # 扩展图标
└── README.md            # 说明文档
```

### 核心组件

#### 1. Content Script (`content.js`)
- 智能内容提取算法
- 页面结构分析
- 内容质量评估
- 无关信息过滤

#### 2. Background Service (`background.js`)
- API调用处理
- 设置存储管理
- 上下文菜单创建
- 消息传递中介

#### 3. Popup Interface (`popup.html/js`)
- 用户界面控制
- 总结结果显示
- 历史记录管理
- 文件导出功能

#### 4. Options Page (`options.html/js`)
- API配置管理
- 高级参数设置
- API连接测试
- 使用说明

#### 5. Utils Library (`utils.js`)
- 通用工具函数
- 数据处理方法
- 存储管理封装
- 错误处理机制

## 🛡️ 隐私与安全

### 数据安全
- **本地存储**：所有敏感信息（API密钥）仅存储在用户本地浏览器中
- **加密保护**：使用简单的Base64编码保护存储的API密钥
- **无数据上传**：页面内容和总结结果不会上传到第三方服务器

### 权限说明
- **activeTab**：读取当前标签页内容
- **storage**：保存用户配置
- **scripting**：注入内容脚本
- **contextMenus**：创建右键菜单

### 隐私承诺
- ✅ 不会收集或存储你的浏览历史
- ✅ 不会上传你的个人信息
- ✅ 不会在未经许可的情况下访问其他网站
- ✅ 所有处理在本地进行

## 🔍 故障排除

### 常见问题

#### 1. 扩展无法正常工作
- **检查权限**：确保扩展已正确加载且权限充足
- **刷新页面**：刷新网页后重试
- **重新安装**：卸载后重新安装扩展

#### 2. API调用失败
- **验证API密钥**：检查密钥是否正确且有效
- **检查网络连接**：确保可以访问API服务器
- **确认账户余额**：检查API账户是否有足够余额
- **测试API配置**：在设置页面使用API测试功能

#### 3. 内容提取不准确
- **检查页面类型**：某些特殊页面可能需要手动调整
- **等待页面加载完成**：确保页面完全加载后再使用
- **检查页面结构**：对于动态内容可能需要滚动触发加载

#### 4. 总结质量不佳
- **调整参数**：尝试不同的温度和Token设置
- **选择合适的模型**：更高级的模型通常产生更好的结果
- **分段处理**：对于很长的内容，考虑分段总结

### 调试方法

1. **打开开发者工具**
   - 右键点击扩展图标
   - 选择"检查弹出内容"

2. **查看控制台日志**
   - F12打开开发者工具
   - 查看Console面板的错误信息

3. **检查网络请求**
   - 在Network面板查看API调用状态
   - 确认请求和响应格式

## 📝 更新日志

### v1.0.0 (2025-01-06)
- ✨ 初始版本发布
- ✨ 支持OpenAI和Anthropic API
- ✨ 智能内容提取和过滤
- ✨ 美观的用户界面设计
- ✨ 完整的历史记录功能
- ✨ 多样化的交互方式
- ✨ 响应式设计支持

## 🤝 贡献指南

欢迎提交问题报告和功能建议！

### 如何贡献
1. Fork 本项目
2. 创建特性分支
3. 提交更改
4. 发起 Pull Request

### 开发环境
- Chrome/Edge 浏览器 (版本 88+)
- 基本的HTML、CSS、JavaScript知识
- Chrome扩展开发基础

## 📄 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情。

## 🙏 致谢

感谢所有为本项目做出贡献的开发者！

---

**如有问题或建议，请提交 Issue 或联系开发者。**